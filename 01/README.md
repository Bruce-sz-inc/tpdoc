## 《Go TCP Socket编程之teleport框架是怎样炼成的？》

本文通过回顾[teleport](https://github.com/henrylee2cn/teleport)框架的开发过程，讲述Go Socket的开发实战经验。

*注：下文以`TP`作为`Teleport`的简称。*

### 目录

- [1. TP的架构设计](#TP的架构设计)
- [2. TP的实现理念](#TP的实现理念)


### 1. TP的架构设计

#### 1.1 设计理念

TP定位于提供socket通信解决方案，遵循以下三点设计理念。

- 通用：不作定向深入，专注长连接通信
- 高效：高性能，低消耗
- 灵活：用法灵活简单，易于深入定制

#### 1.2 架构特性

- 底层通信数据包包含`Header`和`Body`两部分，且支持定制两部分各自的数据交换类型（如`JSON` `Protobuf` `string`等）
- TCP长连接使用I/O缓冲区与多路复用技术，提升数据吞吐量
- 支持设置读取包的大小限制（如果超出则断开连接）
- 支持在不改变数据包内容元素的前提下自定义通信协议
- 服务器和客户端之间对等通信，统一为peer端点，具有基本一致的用法：
	- 推、拉、回复等通信方式
	- 丰富的插件挂载点，可以自定义认证、心跳、微服务注册中心、统计信息等等
	- 平滑重启与关闭
	- 日志信息详尽，支持打印输入、输出消息的详细信息（状态码、消息头、消息体）
	- 支持设置慢操作报警阈值
